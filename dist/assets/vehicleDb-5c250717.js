import{c,j as t,m as y,B as h,L as d,s as p}from"./index-41fdcd60.js";import{C as f,c as w,d as k}from"./card-d9ac1da7.js";import{B as j,b as x}from"./ContactSection-2386680d.js";import{g as b}from"./vehicleCatalog-a49134b4.js";import{U as N}from"./users-dbe95f56.js";const v=c("Cog",[["path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z",key:"sobvz5"}],["path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",key:"11i496"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}]]),C=c("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]),g=c("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),M={engine:t.jsx(C,{className:"h-3 w-3 mr-1 text-gray-700"}),transmission:t.jsx(v,{className:"h-3 w-3 mr-1 text-gray-700"}),capacity:t.jsx(N,{className:"h-3 w-3 mr-1 text-gray-700"}),feature:t.jsx(g,{className:"h-3 w-3 mr-1 text-gray-700"})},q=({vehicle:e,index:a,type:s})=>{const r=o=>M[o]||t.jsx(g,{className:"h-3 w-3 mr-1 text-gray-700"}),m=e?.slug?b(s,e.slug):null,n=e?.price,i=e?.priceWeek,l=e?.priceMonth;return t.jsx(y.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.5,delay:a*.1},className:"bike-card h-full flex flex-col",children:t.jsxs(f,{className:"overflow-hidden border-0 shadow-lg h-full flex flex-col",children:[t.jsxs("div",{className:"relative h-56 overflow-hidden",children:[t.jsx("img",{alt:`${e.name} ${s}`,className:"w-full h-full object-cover transition-transform duration-500 hover:scale-110",src:e.image||"/wave01.webp",srcSet:e.imageSrcSet,sizes:"(max-width: 768px) 100vw, (max-width: 1024px) 50vw, 33vw"}),t.jsxs(j,{variant:"secondary",className:"absolute top-3 right-3 bg-blue-600 text-white text-sm px-3 py-1",children:["$",e.price,"/day"]})]}),t.jsxs(w,{className:"p-5 flex-grow",children:[t.jsx("h3",{className:"text-xl font-bold mb-2 text-gray-900",children:e.name}),t.jsx("p",{className:"text-gray-700 text-sm mb-4 flex-grow",children:e.description}),(n||i||l)&&t.jsxs("div",{className:"mb-4 flex flex-wrap gap-2",children:[n&&t.jsxs("span",{className:"text-xs font-semibold rounded-full bg-blue-50 text-blue-800 px-3 py-1",children:["Day: $",n]}),i&&t.jsxs("span",{className:"text-xs font-semibold rounded-full bg-gray-100 text-gray-800 px-3 py-1",children:["Week: $",i]}),l&&t.jsxs("span",{className:"text-xs font-semibold rounded-full bg-gray-100 text-gray-800 px-3 py-1",children:["Month: $",l]})]}),t.jsx("div",{className:"grid grid-cols-2 gap-2 mt-auto",children:e.specs.map((o,u)=>t.jsxs("span",{className:"text-xs bg-gray-200 rounded-full px-3 py-1.5 text-gray-800 inline-flex items-center",children:[r(o.type)," ",o.value]},u))})]}),t.jsxs(k,{className:"p-5 pt-0 mt-auto flex flex-col gap-3",children:[t.jsx(h,{asChild:!0,variant:"outline",className:"w-full border-blue-700 text-blue-700 hover:bg-blue-700 hover:text-white transition-colors",children:t.jsxs(d,{to:`/book?vehicle=${encodeURIComponent(e.bookingQuery||e.name)}`,children:["Book Now",t.jsx(x,{className:"ml-2 h-4 w-4"})]})}),m&&t.jsxs(d,{to:m,className:"text-sm font-semibold text-gray-700 hover:text-blue-700 transition-colors inline-flex items-center justify-center",children:["View details & specs",t.jsx(x,{className:"ml-1 h-4 w-4"})]})]})]})})},_=e=>e.toString().toLowerCase().trim().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-"),S=async()=>{if(!p)return[];const{data:e,error:a}=await p.from("vehicles").select("id, category, name, description, image_url, price_per_day, inventory_count, active, sort_order").eq("active",!0).order("sort_order",{ascending:!0}).order("name",{ascending:!0});return a?(console.error("Error fetching vehicles:",a),[]):e||[]},D=async e=>(await S()).filter(s=>s.category===e),I=e=>{const a=Number(e.price_per_day)||0,s=e.name.toLowerCase();let r=_(e.name);return s.includes("vinfast")&&s.includes("feliz")&&(r="vinfast-feliz"),{id:e.id,category:e.category,name:e.name,description:e.description,image:e.image_url,price:a.toString(),priceWeek:(a*5).toString(),priceMonth:(a*10).toString(),bookingQuery:e.name,slug:r,specs:[]}};export{q as V,D as a,S as f,I as m};
