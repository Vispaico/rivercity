import{c as W,r as i,b as $,a as J,p as F,j as e,P as R,t as z,v as K,q as X,R as Y,d as B,k as Q,x as Z,w as ee,m as te,I as w,L as E,B as N,y as se}from"./index-2016c930.js";import{P as re}from"./PageHeader-eb2fa5a3.js";import{L as j}from"./label-c38f64eb.js";import{C as ae}from"./check-fdab3e04.js";import{C as oe,a as ne,b as ie,e as ce,c as de,d as le}from"./card-459a7f40.js";import{S as ue}from"./smartphone-14741301.js";const he=W("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);function me(t){const a=i.useRef({value:t,previous:t});return i.useMemo(()=>(a.current.value!==t&&(a.current.previous=a.current.value,a.current.value=t),a.current.previous),[t])}function fe(t){const[a,o]=i.useState(void 0);return $(()=>{if(t){o({width:t.offsetWidth,height:t.offsetHeight});const f=new ResizeObserver(n=>{if(!Array.isArray(n)||!n.length)return;const r=n[0];let u,p;if("borderBoxSize"in r){const c=r.borderBoxSize,b=Array.isArray(c)?c[0]:c;u=b.inlineSize,p=b.blockSize}else u=t.offsetWidth,p=t.offsetHeight;o({width:u,height:p})});return f.observe(t,{box:"border-box"}),()=>f.unobserve(t)}else o(void 0)},[t]),a}var S="Checkbox",[pe,Ne]=J(S),[xe,I]=pe(S);function be(t){const{__scopeCheckbox:a,checked:o,children:f,defaultChecked:n,disabled:r,form:u,name:p,onCheckedChange:c,required:b,value:d="on",internal_do_not_use_render:h}=t,[m,C]=X({prop:o,defaultProp:n??!1,onChange:c,caller:S}),[v,g]=i.useState(null),[k,l]=i.useState(null),s=i.useRef(!1),x=v?!!u||!!v.closest("form"):!0,P={checked:m,disabled:r,setChecked:C,control:v,setControl:g,name:p,form:u,value:d,hasConsumerStoppedPropagationRef:s,required:b,defaultChecked:y(n)?!1:n,isFormControl:x,bubbleInput:k,setBubbleInput:l};return e.jsx(xe,{scope:a,...P,children:ve(h)?h(P):f})}var L="CheckboxTrigger",T=i.forwardRef(({__scopeCheckbox:t,onKeyDown:a,onClick:o,...f},n)=>{const{control:r,value:u,disabled:p,checked:c,required:b,setControl:d,setChecked:h,hasConsumerStoppedPropagationRef:m,isFormControl:C,bubbleInput:v}=I(L,t),g=F(n,d),k=i.useRef(c);return i.useEffect(()=>{const l=r?.form;if(l){const s=()=>h(k.current);return l.addEventListener("reset",s),()=>l.removeEventListener("reset",s)}},[r,h]),e.jsx(R.button,{type:"button",role:"checkbox","aria-checked":y(c)?"mixed":c,"aria-required":b,"data-state":O(c),"data-disabled":p?"":void 0,disabled:p,value:u,...f,ref:g,onKeyDown:z(a,l=>{l.key==="Enter"&&l.preventDefault()}),onClick:z(o,l=>{h(s=>y(s)?!0:!s),v&&C&&(m.current=l.isPropagationStopped(),m.current||l.stopPropagation())})})});T.displayName=L;var _=i.forwardRef((t,a)=>{const{__scopeCheckbox:o,name:f,checked:n,defaultChecked:r,required:u,disabled:p,value:c,onCheckedChange:b,form:d,...h}=t;return e.jsx(be,{__scopeCheckbox:o,checked:n,defaultChecked:r,disabled:p,required:u,onCheckedChange:b,name:f,form:d,value:c,internal_do_not_use_render:({isFormControl:m})=>e.jsxs(e.Fragment,{children:[e.jsx(T,{...h,ref:a,__scopeCheckbox:o}),m&&e.jsx(D,{__scopeCheckbox:o})]})})});_.displayName=S;var q="CheckboxIndicator",H=i.forwardRef((t,a)=>{const{__scopeCheckbox:o,forceMount:f,...n}=t,r=I(q,o);return e.jsx(K,{present:f||y(r.checked)||r.checked===!0,children:e.jsx(R.span,{"data-state":O(r.checked),"data-disabled":r.disabled?"":void 0,...n,ref:a,style:{pointerEvents:"none",...t.style}})})});H.displayName=q;var M="CheckboxBubbleInput",D=i.forwardRef(({__scopeCheckbox:t,...a},o)=>{const{control:f,hasConsumerStoppedPropagationRef:n,checked:r,defaultChecked:u,required:p,disabled:c,name:b,value:d,form:h,bubbleInput:m,setBubbleInput:C}=I(M,t),v=F(o,C),g=me(r),k=fe(f);i.useEffect(()=>{const s=m;if(!s)return;const x=window.HTMLInputElement.prototype,A=Object.getOwnPropertyDescriptor(x,"checked").set,G=!n.current;if(g!==r&&A){const V=new Event("click",{bubbles:G});s.indeterminate=y(r),A.call(s,y(r)?!1:r),s.dispatchEvent(V)}},[m,g,r,n]);const l=i.useRef(y(r)?!1:r);return e.jsx(R.input,{type:"checkbox","aria-hidden":!0,defaultChecked:u??l.current,required:p,disabled:c,name:b,value:d,form:h,...a,tabIndex:-1,ref:v,style:{...a.style,...k,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});D.displayName=M;function ve(t){return typeof t=="function"}function y(t){return t==="indeterminate"}function O(t){return y(t)?"indeterminate":t?"checked":"unchecked"}const U=Y.forwardRef(({className:t,...a},o)=>e.jsx(_,{ref:o,className:B("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...a,children:e.jsx(H,{className:B("flex items-center justify-center text-current"),children:e.jsx(ae,{className:"h-4 w-4"})})}));U.displayName=_.displayName;const Se=()=>{const[t,a]=i.useState(""),[o,f]=i.useState(""),[n,r]=i.useState(""),[u,p]=i.useState(""),[c,b]=i.useState(!1),[d,h]=i.useState(!1),{toast:m}=Q(),C=Z(),{signUp:v,signInWithProvider:g}=ee(),k=async s=>{if(s.preventDefault(),n!==u){m({title:"Error",description:"Passwords do not match.",variant:"destructive"});return}if(!c){m({title:"Error",description:"You must agree to the terms and conditions.",variant:"destructive"});return}h(!0);try{const{error:x}=await v({email:o,password:n,options:{data:{full_name:t}}});if(x)throw x;m({title:"Account Created!",description:"Please check your email to verify your account.",className:"bg-green-500 text-white"}),C("/login")}catch(x){m({title:"Signup Failed",description:x.message||"Could not create your account.",variant:"destructive"})}finally{h(!1)}},l=async s=>{h(!0);try{const{error:x}=await g(s);if(x)throw x}catch(x){m({title:`${s} Signup Failed`,description:x.message||`Could not sign up with ${s}.`,variant:"destructive"})}finally{h(!1)}};return e.jsxs("div",{children:[e.jsx(re,{title:"Create Your Account",subtitle:"Join Rivercity Rentals and start your adventure today!",breadcrumbs:[{name:"Home",link:"/"},{name:"Sign Up"}]}),e.jsx(te.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"py-16 lg:py-24 bg-gray-50",children:e.jsx("div",{className:"container mx-auto px-4 flex justify-center",children:e.jsxs(oe,{className:"w-full max-w-md shadow-xl",children:[e.jsxs(ne,{className:"text-center",children:[e.jsx(ie,{className:"text-2xl",children:"Get Started"}),e.jsx(ce,{children:"Create an account to manage your rentals."})]}),e.jsxs(de,{className:"space-y-6",children:[e.jsxs("form",{onSubmit:k,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{htmlFor:"name",children:"Full Name"}),e.jsx(w,{id:"name",type:"text",placeholder:"John Doe",value:t,onChange:s=>a(s.target.value),required:!0,disabled:d})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{htmlFor:"email",children:"Email"}),e.jsx(w,{id:"email",type:"email",placeholder:"you@example.com",value:o,onChange:s=>f(s.target.value),required:!0,disabled:d})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{htmlFor:"password",children:"Password (min. 6 characters)"}),e.jsx(w,{id:"password",type:"password",placeholder:"••••••••",value:n,onChange:s=>r(s.target.value),required:!0,disabled:d})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{htmlFor:"confirmPassword",children:"Confirm Password"}),e.jsx(w,{id:"confirmPassword",type:"password",placeholder:"••••••••",value:u,onChange:s=>p(s.target.value),required:!0,disabled:d})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(U,{id:"terms",checked:c,onCheckedChange:b,disabled:d}),e.jsxs(j,{htmlFor:"terms",className:"text-sm font-normal",children:["I agree to the"," ",e.jsx(E,{to:"/terms-of-use",className:"font-medium text-blue-600 hover:underline",children:"Terms of Use"})," ","and"," ",e.jsx(E,{to:"/privacy-policy",className:"font-medium text-blue-600 hover:underline",children:"Privacy Policy"}),"."]})]}),e.jsxs(N,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700",disabled:d,children:[d?e.jsx(se,{className:"mr-2 h-4 w-4 animate-spin"}):e.jsx(he,{className:"mr-2 h-4 w-4"}),"Create Account"]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("span",{className:"w-full border-t"})}),e.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:e.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"Or sign up with"})})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[e.jsxs(N,{variant:"outline",onClick:()=>l("google"),disabled:d,children:[e.jsx("svg",{className:"mr-2 h-4 w-4","aria-hidden":"true",focusable:"false","data-prefix":"fab","data-icon":"google",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 488 512",children:e.jsx("path",{fill:"currentColor",d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"})}),"Google"]}),e.jsxs(N,{variant:"outline",onClick:()=>l("facebook"),disabled:d,children:[e.jsx("svg",{className:"mr-2 h-4 w-4","aria-hidden":"true",focusable:"false","data-prefix":"fab","data-icon":"facebook",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:e.jsx("path",{fill:"currentColor",d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"})}),"Facebook"]}),e.jsxs(N,{variant:"outline",disabled:!0,children:[e.jsx(ue,{className:"mr-2 h-4 w-4"})," Sign up with Phone (Coming Soon)"]})]})]}),e.jsx(le,{className:"text-center text-sm",children:e.jsxs("p",{children:["Already have an account?"," ",e.jsx(E,{to:"/login",className:"font-medium text-blue-600 hover:underline",children:"Log in"})]})})]})})})]})};export{Se as default};
