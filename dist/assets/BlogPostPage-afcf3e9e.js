import{v as f,r as n,j as e,H as x,t as m}from"./index-e5384bae.js";import{P as g}from"./PageHeader-f2cedebf.js";import{f as h}from"./format-8d28430c.js";import"./differenceInCalendarDays-6447d4da.js";const _=()=>{const{slug:i}=f(),[t,p]=n.useState(null),[u,o]=n.useState(!0),c=!m,l=n.useRef(null);if(n.useEffect(()=>{(async()=>{if(c){o(!1);return}try{const{data:s,error:r}=await m.from("posts").select("*").eq("slug",i).single();if(r)throw r;p(s)}catch(s){console.error("Error fetching post:",s.message)}finally{o(!1)}})()},[i]),n.useEffect(()=>{if(!t)return;const a=l.current;if(!a)return;a.innerHTML="";const s=document.createElement("script");s.type="text/javascript",s.innerHTML=`
      atOptions = {
        key: 'b612b7529555730cbd4d2a6607dff9b5',
        format: 'iframe',
        height: 50,
        width: 320,
        params: {}
      };
    `;const r=document.createElement("script");return r.type="text/javascript",r.src="//prototypesorting.com/b612b7529555730cbd4d2a6607dff9b5/invoke.js",r.async=!0,a.appendChild(s),a.appendChild(r),()=>{a.innerHTML="",window.atOptions&&delete window.atOptions}},[t?.id]),u)return e.jsx("div",{className:"flex justify-center items-center h-screen",children:"Loading..."});if(c)return e.jsx("div",{className:"flex justify-center items-center h-screen",children:"Blog content is currently unavailable."});if(!t)return e.jsx("div",{className:"flex justify-center items-center h-screen",children:"Post not found."});const d=t.content.replace(/<[^>]+>/g,"");return e.jsxs(e.Fragment,{children:[e.jsxs(x,{children:[e.jsx("title",{children:t.meta_title||t.title}),e.jsx("meta",{name:"description",content:t.meta_description||d.substring(0,160)}),e.jsx("meta",{property:"og:title",content:t.meta_title||t.title}),e.jsx("meta",{property:"og:description",content:t.meta_description||d.substring(0,160)}),t.featured_image_url&&e.jsx("meta",{property:"og:image",content:t.featured_image_url}),e.jsx("meta",{property:"og:type",content:"article"}),e.jsx("link",{rel:"canonical",href:`https://rivercitybikerentals.com/blog/${t.slug}`})]}),e.jsx(g,{title:t.title,subtitle:`Published on ${h(new Date(t.created_at),"MMMM d, yyyy")}`}),e.jsx("div",{className:"container mx-auto px-4 py-12",children:e.jsxs("div",{className:"max-w-4xl mx-auto bg-white rounded-lg shadow-lg p-8",children:[t.featured_image_url&&e.jsx("img",{src:t.featured_image_url,alt:t.title,className:"w-full h-auto object-cover rounded-lg mb-8"}),e.jsx("div",{className:"my-6 flex justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-[10px] uppercase tracking-[0.3em] text-gray-400 mb-2",children:"Advertisement"}),e.jsx("div",{ref:l,className:"mx-auto flex h-[70px] w-[340px] items-center justify-center rounded-md border border-dashed border-gray-200 bg-gray-50",children:e.jsx("span",{className:"text-xs text-gray-400",children:"Loading adâ€¦"})})]})}),e.jsx("div",{className:"prose lg:prose-xl max-w-none",dangerouslySetInnerHTML:{__html:t.content}})]})})]})};export{_ as default};
