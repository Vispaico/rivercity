import{c as S,r,b as Re,n as ke,o as Fe,a as Q,j as e,p as Se,q as X,u as Ee,P as w,t as b,v as Ae,R as U,d as $,w as _e,x as Me,k as Pe,y as q,m as O,L as W,B}from"./index-7b5a60b9.js";import{P as Le}from"./PageHeader-3285a8e4.js";import{C as N,a as T,b as I,e as C,c as R}from"./card-26d4fd42.js";import{S as De}from"./settings-689f6e78.js";const Ge=S("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]),Oe=S("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),Be=S("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Z=S("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),J=S("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);var Ke=ke[" useId ".trim().toString()]||(()=>{}),Ve=0;function ee(t){const[a,o]=r.useState(Ke());return Re(()=>{t||o(s=>s??String(Ve++))},[t]),t||(a?`radix-${a}`:"")}var Ue=r.createContext(void 0);function te(t){const a=r.useContext(Ue);return t||a||"ltr"}var K="rovingFocusGroup.onEntryFocus",$e={bubbles:!1,cancelable:!0},E="RovingFocusGroup",[V,ae,He]=Fe(E),[Ye,se]=Q(E,[He]),[ze,qe]=Ye(E),oe=r.forwardRef((t,a)=>e.jsx(V.Provider,{scope:t.__scopeRovingFocusGroup,children:e.jsx(V.Slot,{scope:t.__scopeRovingFocusGroup,children:e.jsx(We,{...t,ref:a})})}));oe.displayName=E;var We=r.forwardRef((t,a)=>{const{__scopeRovingFocusGroup:o,orientation:s,loop:c=!1,dir:u,currentTabStopId:i,defaultCurrentTabStopId:f,onCurrentTabStopIdChange:g,onEntryFocus:l,preventScrollOnEntryFocus:n=!1,...d}=t,x=r.useRef(null),A=Se(a,x),_=te(u),[M,m]=X({prop:i,defaultProp:f??null,onChange:g,caller:E}),[p,L]=r.useState(!1),v=Ee(l),y=ae(o),D=r.useRef(!1),[we,Y]=r.useState(0);return r.useEffect(()=>{const h=x.current;if(h)return h.addEventListener(K,v),()=>h.removeEventListener(K,v)},[v]),e.jsx(ze,{scope:o,orientation:s,dir:_,loop:c,currentTabStopId:M,onItemFocus:r.useCallback(h=>m(h),[m]),onItemShiftTab:r.useCallback(()=>L(!0),[]),onFocusableItemAdd:r.useCallback(()=>Y(h=>h+1),[]),onFocusableItemRemove:r.useCallback(()=>Y(h=>h-1),[]),children:e.jsx(w.div,{tabIndex:p||we===0?-1:0,"data-orientation":s,...d,ref:A,style:{outline:"none",...t.style},onMouseDown:b(t.onMouseDown,()=>{D.current=!0}),onFocus:b(t.onFocus,h=>{const Ne=!D.current;if(h.target===h.currentTarget&&Ne&&!p){const z=new CustomEvent(K,$e);if(h.currentTarget.dispatchEvent(z),!z.defaultPrevented){const G=y().filter(j=>j.focusable),Te=G.find(j=>j.active),Ie=G.find(j=>j.id===M),Ce=[Te,Ie,...G].filter(Boolean).map(j=>j.ref.current);ie(Ce,n)}}D.current=!1}),onBlur:b(t.onBlur,()=>L(!1))})})}),ne="RovingFocusGroupItem",re=r.forwardRef((t,a)=>{const{__scopeRovingFocusGroup:o,focusable:s=!0,active:c=!1,tabStopId:u,children:i,...f}=t,g=ee(),l=u||g,n=qe(ne,o),d=n.currentTabStopId===l,x=ae(o),{onFocusableItemAdd:A,onFocusableItemRemove:_,currentTabStopId:M}=n;return r.useEffect(()=>{if(s)return A(),()=>_()},[s,A,_]),e.jsx(V.ItemSlot,{scope:o,id:l,focusable:s,active:c,children:e.jsx(w.span,{tabIndex:d?0:-1,"data-orientation":n.orientation,...f,ref:a,onMouseDown:b(t.onMouseDown,m=>{s?n.onItemFocus(l):m.preventDefault()}),onFocus:b(t.onFocus,()=>n.onItemFocus(l)),onKeyDown:b(t.onKeyDown,m=>{if(m.key==="Tab"&&m.shiftKey){n.onItemShiftTab();return}if(m.target!==m.currentTarget)return;const p=Qe(m,n.orientation,n.dir);if(p!==void 0){if(m.metaKey||m.ctrlKey||m.altKey||m.shiftKey)return;m.preventDefault();let v=x().filter(y=>y.focusable).map(y=>y.ref.current);if(p==="last")v.reverse();else if(p==="prev"||p==="next"){p==="prev"&&v.reverse();const y=v.indexOf(m.currentTarget);v=n.loop?Xe(v,y+1):v.slice(y+1)}setTimeout(()=>ie(v))}}),children:typeof i=="function"?i({isCurrentTabStop:d,hasTabStop:M!=null}):i})})});re.displayName=ne;var Ze={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Je(t,a){return a!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Qe(t,a,o){const s=Je(t.key,o);if(!(a==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(a==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return Ze[s]}function ie(t,a=!1){const o=document.activeElement;for(const s of t)if(s===o||(s.focus({preventScroll:a}),document.activeElement!==o))return}function Xe(t,a){return t.map((o,s)=>t[(a+s)%t.length])}var et=oe,tt=re,P="Tabs",[at,ut]=Q(P,[se]),ce=se(),[st,H]=at(P),le=r.forwardRef((t,a)=>{const{__scopeTabs:o,value:s,onValueChange:c,defaultValue:u,orientation:i="horizontal",dir:f,activationMode:g="automatic",...l}=t,n=te(f),[d,x]=X({prop:s,onChange:c,defaultProp:u??"",caller:P});return e.jsx(st,{scope:o,baseId:ee(),value:d,onValueChange:x,orientation:i,dir:n,activationMode:g,children:e.jsx(w.div,{dir:n,"data-orientation":i,...l,ref:a})})});le.displayName=P;var de="TabsList",ue=r.forwardRef((t,a)=>{const{__scopeTabs:o,loop:s=!0,...c}=t,u=H(de,o),i=ce(o);return e.jsx(et,{asChild:!0,...i,orientation:u.orientation,dir:u.dir,loop:s,children:e.jsx(w.div,{role:"tablist","aria-orientation":u.orientation,...c,ref:a})})});ue.displayName=de;var me="TabsTrigger",fe=r.forwardRef((t,a)=>{const{__scopeTabs:o,value:s,disabled:c=!1,...u}=t,i=H(me,o),f=ce(o),g=xe(i.baseId,s),l=ve(i.baseId,s),n=s===i.value;return e.jsx(tt,{asChild:!0,...f,focusable:!c,active:n,children:e.jsx(w.button,{type:"button",role:"tab","aria-selected":n,"aria-controls":l,"data-state":n?"active":"inactive","data-disabled":c?"":void 0,disabled:c,id:g,...u,ref:a,onMouseDown:b(t.onMouseDown,d=>{!c&&d.button===0&&d.ctrlKey===!1?i.onValueChange(s):d.preventDefault()}),onKeyDown:b(t.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&i.onValueChange(s)}),onFocus:b(t.onFocus,()=>{const d=i.activationMode!=="manual";!n&&!c&&d&&i.onValueChange(s)})})})});fe.displayName=me;var he="TabsContent",ge=r.forwardRef((t,a)=>{const{__scopeTabs:o,value:s,forceMount:c,children:u,...i}=t,f=H(he,o),g=xe(f.baseId,s),l=ve(f.baseId,s),n=s===f.value,d=r.useRef(n);return r.useEffect(()=>{const x=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(x)},[]),e.jsx(Ae,{present:c||n,children:({present:x})=>e.jsx(w.div,{"data-state":n?"active":"inactive","data-orientation":f.orientation,role:"tabpanel","aria-labelledby":g,hidden:!x,id:l,tabIndex:0,...i,ref:a,style:{...t.style,animationDuration:d.current?"0s":void 0},children:x&&u})})});ge.displayName=he;function xe(t,a){return`${t}-trigger-${a}`}function ve(t,a){return`${t}-content-${a}`}var ot=le,be=ue,pe=fe,ye=ge;const nt=ot,je=U.forwardRef(({className:t,...a},o)=>e.jsx(be,{ref:o,className:$("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...a}));je.displayName=be.displayName;const k=U.forwardRef(({className:t,...a},o)=>e.jsx(pe,{ref:o,className:$("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...a}));k.displayName=pe.displayName;const F=U.forwardRef(({className:t,...a},o)=>e.jsx(ye,{ref:o,className:$("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...a}));F.displayName=ye.displayName;const mt=()=>{const{user:t,signOut:a,loading:o,isAdmin:s}=_e(),[c,u]=r.useState(!1),i=Me(),{toast:f}=Pe(),g=async()=>{u(!0);try{const{error:l}=await a();if(l)throw l;f({title:"Logged Out",description:"You have been successfully logged out.",className:"bg-blue-500 text-white"}),i("/")}catch(l){f({title:"Logout Failed",description:l.message||"Could not log you out.",variant:"destructive"})}finally{u(!1)}};return o?e.jsx("div",{className:"flex justify-center items-center h-screen",children:e.jsx(q,{className:"h-12 w-12 animate-spin text-blue-600"})}):e.jsxs("div",{children:[e.jsx(Le,{title:`Welcome, ${t?.user_metadata?.full_name||t?.email||"Rider"}!`,subtitle:"Manage your bookings, view history, and update your profile.",breadcrumbs:[{name:"Home",link:"/"},{name:"Dashboard"}]}),e.jsx("section",{className:"pt-24 pb-16 lg:pb-24 bg-gray-50",children:e.jsxs("div",{className:"container mx-auto px-4",children:[s&&e.jsx(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-8",children:e.jsxs(N,{className:"shadow-lg bg-gradient-to-r from-blue-500 to-indigo-600 text-white",children:[e.jsxs(T,{children:[e.jsx(I,{children:"Admin Tools"}),e.jsx(C,{className:"text-blue-100",children:"Access special management sections."})]}),e.jsx(R,{children:e.jsx(W,{to:"/dashboard/blog",children:e.jsxs(B,{className:"bg-white text-blue-600 hover:bg-blue-50 font-semibold",children:[e.jsx(Z,{className:"mr-2 h-4 w-4"})," Manage Blog Posts"]})})})]})}),e.jsxs(nt,{defaultValue:"bookings",className:"w-full",children:[e.jsx(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.4},children:e.jsxs(je,{className:"grid w-full grid-cols-2 md:grid-cols-4 mb-8 bg-white shadow-sm",children:[e.jsxs(k,{value:"bookings",className:"py-3 data-[state=active]:bg-blue-100 data-[state=active]:text-blue-700 data-[state=active]:shadow-md",children:[e.jsx(Oe,{className:"mr-2 h-5 w-5"})," My Bookings"]}),e.jsxs(k,{value:"history",className:"py-3 data-[state=active]:bg-blue-100 data-[state=active]:text-blue-700 data-[state=active]:shadow-md",children:[e.jsx(Ge,{className:"mr-2 h-5 w-5"})," Rental History"]}),e.jsxs(k,{value:"profile",className:"py-3 data-[state=active]:bg-blue-100 data-[state=active]:text-blue-700 data-[state=active]:shadow-md",children:[e.jsx(J,{className:"mr-2 h-5 w-5"})," Profile"]}),e.jsxs(k,{value:"settings",className:"py-3 data-[state=active]:bg-blue-100 data-[state=active]:text-blue-700 data-[state=active]:shadow-md",children:[e.jsx(De,{className:"mr-2 h-5 w-5"})," Settings"]})]})}),e.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:[e.jsx(F,{value:"bookings",children:e.jsxs(N,{className:"shadow-lg",children:[e.jsxs(T,{children:[e.jsx(I,{children:"Current & Upcoming Bookings"}),e.jsx(C,{children:"Manage your active and future rentals."})]}),e.jsx(R,{className:"space-y-4",children:e.jsxs("p",{className:"text-gray-600",children:["You have no upcoming bookings. ",e.jsx(W,{to:"/motorbikes",className:"text-blue-600 hover:underline",children:"Book a new ride?"})]})})]})}),e.jsx(F,{value:"history",children:e.jsxs(N,{className:"shadow-lg",children:[e.jsxs(T,{children:[e.jsx(I,{children:"Rental History"}),e.jsx(C,{children:"View your past rentals with us."})]}),e.jsx(R,{className:"space-y-4",children:e.jsx("p",{className:"text-gray-600",children:"Your rental history is empty."})})]})}),e.jsx(F,{value:"profile",children:e.jsxs(N,{className:"shadow-lg",children:[e.jsxs(T,{children:[e.jsx(I,{children:"Your Profile"}),e.jsx(C,{children:"Update your personal information and preferences."})]}),e.jsxs(R,{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(J,{className:"h-10 w-10 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-800",children:t?.user_metadata?.full_name||"N/A"}),e.jsx("p",{className:"text-sm text-gray-500",children:t?.email})]})]}),e.jsxs(B,{variant:"outline",disabled:!0,children:[e.jsx(Z,{className:"mr-2 h-4 w-4"})," Edit Profile (Coming Soon)"]})]})]})}),e.jsx(F,{value:"settings",children:e.jsxs(N,{className:"shadow-lg",children:[e.jsxs(T,{children:[e.jsx(I,{children:"Account Settings"}),e.jsx(C,{children:"Manage your account preferences and security."})]}),e.jsxs(R,{className:"space-y-4",children:[e.jsx("p",{className:"text-gray-600",children:"Account settings are not yet implemented."}),e.jsxs(B,{onClick:g,variant:"destructive",disabled:c,children:[c?e.jsx(q,{className:"mr-2 h-4 w-4 animate-spin"}):e.jsx(Be,{className:"mr-2 h-4 w-4"}),"Log Out"]})]})]})})]})]})]})})]})};export{mt as default};
