import{c,n as C,r as P,o as T,k as A,j as e,p as j,m as h,L as n,B as s}from"./index-4ed6c61b.js";import{P as B}from"./PageHeader-e3b04a59.js";import{C as a,a as t,b as i,e as l,c as r}from"./card-ac382500.js";import{T as H,a as O,b as m,c as x}from"./tabs-5ca32e0d.js";import{S}from"./settings-0a394b5f.js";const b=c("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]),p=c("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),D=c("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),v=c("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),N=c("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),_=()=>{const{user:o,signOut:f,loading:w,isAdmin:k}=C(),[u,y]=P.useState(!1),L=T(),{toast:g}=A(),M=async()=>{y(!0);try{const{error:d}=await f();if(d)throw d;g({title:"Logged Out",description:"You have been successfully logged out.",className:"bg-blue-500 text-white"}),L("/")}catch(d){g({title:"Logout Failed",description:d.message||"Could not log you out.",variant:"destructive"})}finally{y(!1)}};return w?e.jsx("div",{className:"flex justify-center items-center h-screen",children:e.jsx(j,{className:"h-12 w-12 animate-spin text-blue-600"})}):e.jsxs("div",{children:[e.jsx(B,{title:`Welcome, ${o?.user_metadata?.full_name||o?.email||"Rider"}!`,subtitle:"Manage your bookings, view history, and update your profile.",breadcrumbs:[{name:"Home",link:"/"},{name:"Dashboard"}]}),e.jsx("section",{className:"pt-24 pb-16 lg:pb-24 bg-gray-50",children:e.jsxs("div",{className:"container mx-auto px-4",children:[k&&e.jsx(h.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-8",children:e.jsxs(a,{className:"shadow-lg bg-gradient-to-r from-blue-500 to-indigo-600 text-white",children:[e.jsxs(t,{children:[e.jsx(i,{children:"Admin Tools"}),e.jsx(l,{className:"text-blue-100",children:"Access special management sections."})]}),e.jsx(r,{children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsx(n,{to:"/dashboard/blog",children:e.jsxs(s,{className:"bg-white text-blue-600 hover:bg-blue-50 font-semibold",children:[e.jsx(v,{className:"mr-2 h-4 w-4"})," Manage Blog Posts"]})}),e.jsx(n,{to:"/dashboard/vehicles",children:e.jsxs(s,{className:"bg-white text-blue-600 hover:bg-blue-50 font-semibold",children:[e.jsx(p,{className:"mr-2 h-4 w-4"})," Manage Vehicle Inventory"]})}),e.jsx(n,{to:"/dashboard/marketplace",children:e.jsxs(s,{className:"bg-white text-blue-600 hover:bg-blue-50 font-semibold",children:[e.jsx(b,{className:"mr-2 h-4 w-4"})," Marketplace Admin"]})})]})})]})}),e.jsx(h.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-8",children:e.jsxs(a,{className:"shadow-lg",children:[e.jsxs(t,{children:[e.jsx(i,{children:"Earn with your vehicle"}),e.jsx(l,{children:"List your car or motorbike on Rivercity. We set the rental price, pay you 70% by bank transfer, 7 days after completion."})]}),e.jsx(r,{children:e.jsx(n,{to:"/dashboard/partner",children:e.jsx(s,{className:"bg-blue-600 hover:bg-blue-700",children:"Open Partner Portal"})})})]})}),e.jsxs(H,{defaultValue:"bookings",className:"w-full",children:[e.jsx(h.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.4},children:e.jsxs(O,{className:"grid w-full grid-cols-2 md:grid-cols-4 mb-8 bg-white shadow-sm",children:[e.jsxs(m,{value:"bookings",className:"py-3 data-[state=active]:bg-blue-100 data-[state=active]:text-blue-700 data-[state=active]:shadow-md",children:[e.jsx(p,{className:"mr-2 h-5 w-5"})," My Bookings"]}),e.jsxs(m,{value:"history",className:"py-3 data-[state=active]:bg-blue-100 data-[state=active]:text-blue-700 data-[state=active]:shadow-md",children:[e.jsx(b,{className:"mr-2 h-5 w-5"})," Rental History"]}),e.jsxs(m,{value:"profile",className:"py-3 data-[state=active]:bg-blue-100 data-[state=active]:text-blue-700 data-[state=active]:shadow-md",children:[e.jsx(N,{className:"mr-2 h-5 w-5"})," Profile"]}),e.jsxs(m,{value:"settings",className:"py-3 data-[state=active]:bg-blue-100 data-[state=active]:text-blue-700 data-[state=active]:shadow-md",children:[e.jsx(S,{className:"mr-2 h-5 w-5"})," Settings"]})]})}),e.jsxs(h.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:[e.jsx(x,{value:"bookings",children:e.jsxs(a,{className:"shadow-lg",children:[e.jsxs(t,{children:[e.jsx(i,{children:"Current & Upcoming Bookings"}),e.jsx(l,{children:"Manage your active and future rentals."})]}),e.jsx(r,{className:"space-y-4",children:e.jsxs("p",{className:"text-gray-600",children:["You have no upcoming bookings. ",e.jsx(n,{to:"/motorbikes",className:"text-blue-600 hover:underline",children:"Book a new ride?"})]})})]})}),e.jsx(x,{value:"history",children:e.jsxs(a,{className:"shadow-lg",children:[e.jsxs(t,{children:[e.jsx(i,{children:"Rental History"}),e.jsx(l,{children:"View your past rentals with us."})]}),e.jsx(r,{className:"space-y-4",children:e.jsx("p",{className:"text-gray-600",children:"Your rental history is empty."})})]})}),e.jsx(x,{value:"profile",children:e.jsxs(a,{className:"shadow-lg",children:[e.jsxs(t,{children:[e.jsx(i,{children:"Your Profile"}),e.jsx(l,{children:"Update your personal information and preferences."})]}),e.jsxs(r,{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(N,{className:"h-10 w-10 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-800",children:o?.user_metadata?.full_name||"N/A"}),e.jsx("p",{className:"text-sm text-gray-500",children:o?.email})]})]}),e.jsxs(s,{variant:"outline",disabled:!0,children:[e.jsx(v,{className:"mr-2 h-4 w-4"})," Edit Profile (Coming Soon)"]})]})]})}),e.jsx(x,{value:"settings",children:e.jsxs(a,{className:"shadow-lg",children:[e.jsxs(t,{children:[e.jsx(i,{children:"Account Settings"}),e.jsx(l,{children:"Manage your account preferences and security."})]}),e.jsxs(r,{className:"space-y-4",children:[e.jsx("p",{className:"text-gray-600",children:"Account settings are not yet implemented."}),e.jsxs(s,{onClick:M,variant:"destructive",disabled:u,children:[u?e.jsx(j,{className:"mr-2 h-4 w-4 animate-spin"}):e.jsx(D,{className:"mr-2 h-4 w-4"}),"Log Out"]})]})]})})]})]})]})})]})};export{_ as default};
