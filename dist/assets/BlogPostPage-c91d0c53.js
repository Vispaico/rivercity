import{C as x,r as n,j as e,H as p,z as m}from"./index-2016c930.js";import{P as g}from"./PageHeader-eb2fa5a3.js";import{f as h}from"./format-1b8bed47.js";const v=()=>{const{slug:i}=x(),[t,u]=n.useState(null),[f,c]=n.useState(!0),l=!m,o=n.useRef(null);if(n.useEffect(()=>{(async()=>{if(l){c(!1);return}try{const{data:s,error:r}=await m.from("posts").select("*").eq("slug",i).single();if(r)throw r;u(s)}catch(s){console.error("Error fetching post:",s.message)}finally{c(!1)}})()},[i]),n.useEffect(()=>{if(!t)return;const a=o.current;if(!a)return;a.innerHTML="";const s=document.createElement("div");s.id="container-5e70758bd01ee3daaa6700cdeec214f7",s.className="w-full";const r=document.createElement("script");return r.async=!0,r.setAttribute("data-cfasync","false"),r.src="//prototypesorting.com/5e70758bd01ee3daaa6700cdeec214f7/invoke.js",a.appendChild(s),a.appendChild(r),()=>{a.innerHTML=""}},[t?.id]),f)return e.jsx("div",{className:"flex justify-center items-center h-screen",children:"Loading..."});if(l)return e.jsx("div",{className:"flex justify-center items-center h-screen",children:"Blog content is currently unavailable."});if(!t)return e.jsx("div",{className:"flex justify-center items-center h-screen",children:"Post not found."});const d=t.content.replace(/<[^>]+>/g,"");return e.jsxs(e.Fragment,{children:[e.jsxs(p,{children:[e.jsx("title",{children:t.meta_title||t.title}),e.jsx("meta",{name:"description",content:t.meta_description||d.substring(0,160)}),e.jsx("meta",{property:"og:title",content:t.meta_title||t.title}),e.jsx("meta",{property:"og:description",content:t.meta_description||d.substring(0,160)}),t.featured_image_url&&e.jsx("meta",{property:"og:image",content:t.featured_image_url}),e.jsx("meta",{property:"og:type",content:"article"}),e.jsx("link",{rel:"canonical",href:`https://rivercitybikerentals.com/blog/${t.slug}`})]}),e.jsx(g,{title:t.title,subtitle:`Published on ${h(new Date(t.created_at),"MMMM d, yyyy")}`}),e.jsx("div",{className:"container mx-auto px-4 py-12",children:e.jsxs("div",{className:"max-w-4xl mx-auto bg-white rounded-lg shadow-lg p-8",children:[t.featured_image_url&&e.jsx("img",{src:t.featured_image_url,alt:t.title,className:"w-full h-auto object-cover rounded-lg mb-8"}),e.jsxs("div",{className:"my-8",children:[e.jsx("p",{className:"text-center text-xs uppercase tracking-[0.2em] text-gray-400 mb-3",children:"Advertisement"}),e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{ref:o,className:"w-full max-w-3xl min-h-[120px] rounded-lg border border-dashed border-gray-200 bg-gray-50 flex items-center justify-center",children:e.jsx("span",{className:"text-gray-400 text-sm",children:"Loading adâ€¦"})})})]}),e.jsx("div",{className:"prose lg:prose-xl max-w-none",dangerouslySetInnerHTML:{__html:t.content}})]})})]})};export{v as default};
