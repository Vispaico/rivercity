import{c,j as a,m as f,B as h,L as m,s as p}from"./index-9b949042.js";import{C as y,c as w,d as k}from"./card-129a46a6.js";import{B as j,b as x}from"./ContactSection-1f06c8bc.js";import{g as b}from"./vehicleCatalog-a49134b4.js";import{U as v}from"./users-68d1c9c4.js";const N=c("Cog",[["path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z",key:"sobvz5"}],["path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",key:"11i496"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}]]),C=c("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]),u=c("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),M={engine:a.jsx(C,{className:"h-3 w-3 mr-1 text-gray-700"}),transmission:a.jsx(N,{className:"h-3 w-3 mr-1 text-gray-700"}),capacity:a.jsx(v,{className:"h-3 w-3 mr-1 text-gray-700"}),feature:a.jsx(u,{className:"h-3 w-3 mr-1 text-gray-700"})},q=({vehicle:e,index:t,type:s})=>{const r=n=>M[n]||a.jsx(u,{className:"h-3 w-3 mr-1 text-gray-700"}),d=e?.slug?b(s,e.slug):null,o=e?.price,i=e?.priceWeek,l=e?.priceMonth;return a.jsx(f.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.5,delay:t*.1},className:"bike-card h-full flex flex-col",children:a.jsxs(y,{className:"overflow-hidden border-0 shadow-lg h-full flex flex-col",children:[a.jsxs("div",{className:"relative h-56 overflow-hidden",children:[a.jsx("img",{alt:`${e.name} ${s}`,className:"w-full h-full object-cover transition-transform duration-500 hover:scale-110",src:e.image||"/wave01.webp",srcSet:e.imageSrcSet,sizes:"(max-width: 768px) 100vw, (max-width: 1024px) 50vw, 33vw"}),a.jsxs(j,{variant:"secondary",className:"absolute top-3 right-3 bg-blue-600 text-white text-sm px-3 py-1",children:["$",e.price,"/day"]})]}),a.jsxs(w,{className:"p-5 flex-grow",children:[a.jsx("h3",{className:"text-xl font-bold mb-2 text-gray-900",children:e.name}),a.jsx("p",{className:"text-gray-700 text-sm mb-4 flex-grow",children:e.description}),(o||i||l)&&a.jsxs("div",{className:"mb-4 flex flex-wrap gap-2",children:[o&&a.jsxs("span",{className:"text-xs font-semibold rounded-full bg-blue-50 text-blue-800 px-3 py-1",children:["Day: $",o]}),i&&a.jsxs("span",{className:"text-xs font-semibold rounded-full bg-gray-100 text-gray-800 px-3 py-1",children:["Week: $",i]}),l&&a.jsxs("span",{className:"text-xs font-semibold rounded-full bg-gray-100 text-gray-800 px-3 py-1",children:["Month: $",l]})]}),a.jsx("div",{className:"grid grid-cols-2 gap-2 mt-auto",children:e.specs.map((n,g)=>a.jsxs("span",{className:"text-xs bg-gray-200 rounded-full px-3 py-1.5 text-gray-800 inline-flex items-center",children:[r(n.type)," ",n.value]},g))})]}),a.jsxs(k,{className:"p-5 pt-0 mt-auto flex flex-col gap-3",children:[a.jsx(h,{asChild:!0,variant:"outline",className:"w-full border-blue-700 text-blue-700 hover:bg-blue-700 hover:text-white transition-colors",children:a.jsxs(m,{to:`/book?vehicle=${encodeURIComponent(e.bookingQuery||e.name)}`,children:["Book Now",a.jsx(x,{className:"ml-2 h-4 w-4"})]})}),d&&a.jsxs(m,{to:d,className:"text-sm font-semibold text-gray-700 hover:text-blue-700 transition-colors inline-flex items-center justify-center",children:["View details & specs",a.jsx(x,{className:"ml-1 h-4 w-4"})]})]})]})})},_=e=>e.toString().toLowerCase().trim().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-"),S=async()=>{if(!p)return[];const{data:e,error:t}=await p.from("vehicles").select("id, category, name, description, image_url, price_per_day, inventory_count, active, sort_order").eq("active",!0).order("sort_order",{ascending:!0}).order("name",{ascending:!0});return t?(console.error("Error fetching vehicles:",t),[]):e||[]},D=async e=>(await S()).filter(s=>s.category===e),I=e=>{const t=Number(e.price_per_day)||0,s=e.name.toLowerCase();let r=_(e.name);return s.includes("vinfast")&&s.includes("feliz")?r="vinfast-feliz":s.includes("vinfast")&&s.includes("fadil")?r="vinfast-fadil":s.includes("honda")&&s.includes("crv")||s.includes("honda")&&s.includes("cr-v")?r="honda-crv":s.includes("vinfast")&&s.includes("lux")&&(r="vinfast-lux-sa"),{id:e.id,category:e.category,name:e.name,description:e.description,image:e.image_url,price:t.toString(),priceWeek:(t*5).toString(),priceMonth:(t*10).toString(),bookingQuery:e.name,slug:r,specs:[]}};export{q as V,D as a,S as f,I as m};
